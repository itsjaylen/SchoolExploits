from core.settings.debug import Debug
from core.settings.config import Config, Command
from os import system
from colorama import Fore


def startup():
    print(f"{Fore.GREEN}Loaded {Config.appname} Version {Config.version}\n")
    system(f"title {Config.appname} version {Config.version}")
    gui()


def gui():
    while True:
        cmd = input("Command: ")

        if cmd not in Command.command_list and cmd not in Debug.debug_commands_list:
            print(
                f"{Fore.RED}No command '{cmd}' exist: {Fore.RESET} Type !help for command list")

        if cmd in Command.command_list:
            try:
                Command.command_dict[cmd]()
            except KeyError:
                print(f"{Fore.RED}Command: {cmd} not implemented.")

        if cmd in Debug.debug_commands_list:
            try:
                Debug.debug_commands_dict[cmd]()
            except Exception as e:
                print(f"{Fore.RED} {cmd} raised an exception:\n {e}")
